<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  class="html"
><head>
  <title>
    
      
        Mapping the Location of Twitter Followers and Following in R |

      Aaron Simumba

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.101.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Aaron Simumba" />
  <meta
    name="description"
    content="Mapping locations for twitter followers and following"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="https://asimumba.rbind.io/scss/main.min.b2e0cb07595e3519ab1193bb421914e06c0e26b0cc561fef23b3c6131d4d2ffa.css"
      integrity="sha256-suDLB1leNRmrEZO7QhkU4GwOJrDMVh/vI7PGEx1NL/o="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="https://asimumba.rbind.io/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="https://asimumba.rbind.io/fontawesome/css/fontawesome.min.b1c4e6a10bdbab01f33fff9d78816ee68cf9a9a731f07668afd546a79924cb80.css"
    integrity="sha256-scTmoQvbqwHzP/&#43;deIFu5oz5qacx8HZor9VGp5kky4A="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="https://asimumba.rbind.io/fontawesome/css/solid.min.423dee17c62f55fa733a4ee13e00d523dfce88cc4f4ab4549a24ba36bd9de681.css"
    integrity="sha256-Qj3uF8YvVfpzOk7hPgDVI9/OiMxPSrRUmiS6Nr2d5oE="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="https://asimumba.rbind.io/fontawesome/css/brands.min.b7d54133b27e5b4de15245b8e143de3e8ed2d674c706137274cedc9953f31917.css"
    integrity="sha256-t9VBM7J&#43;W03hUkW44UPePo7S1nTHBhNydM7cmVPzGRc="
    crossorigin="anonymous"
    type="text/css"
  />
  
    
    
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Indie&#43;Flower&amp;family=Roboto:ital,wght@0,100;0,400;0,700;1,400&amp;display=swap" rel="stylesheet" />
  <link rel="shortcut icon" href="https://asimumba.rbind.io/favicons/favicon.icofavicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://asimumba.rbind.io/favicons/favicon.icoapple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://asimumba.rbind.io/favicons/favicon.icofavicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://asimumba.rbind.io/favicons/favicon.icofavicon-16x16.png" />

  <link rel="canonical" href="https://asimumba.rbind.io/blog/2017/10/02/mapping-twitter-data/" />

  
  
  
  
  <script
    type="text/javascript"
    src="https://asimumba.rbind.io/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="https://asimumba.rbind.io/js/anatole-theme-switcher.min.738c0e3a493854876aeab9e2316fd43f1936aeeac4cc6b3e60bb26456dba72ad.js"
      integrity="sha256-c4wOOkk4VIdq6rniMW/UPxk2rurEzGs&#43;YLsmRW26cq0="
      crossorigin="anonymous"
    ></script>

  

  


  
  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://asimumba.rbind.io/images/site-feature-image.png"/>

<meta name="twitter:title" content="Mapping the Location of Twitter Followers and Following in R"/>
<meta name="twitter:description" content="Mapping locations for twitter followers and following"/>



  
  <meta property="og:title" content="Mapping the Location of Twitter Followers and Following in R" />
<meta property="og:description" content="Mapping locations for twitter followers and following" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://asimumba.rbind.io/blog/2017/10/02/mapping-twitter-data/" /><meta property="og:image" content="https://asimumba.rbind.io/images/site-feature-image.png"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2017-10-02T17:46:47+02:00" />
<meta property="article:modified_time" content="2017-10-02T17:46:47+02:00" /><meta property="og:site_name" content="Aaron Simumba" />




  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "blog",
        "name": "Mapping the Location of Twitter Followers and Following in R",
        "headline": "Mapping the Location of Twitter Followers and Following in R",
        "alternativeHeadline": "",
        "description": "
      Mapping locations for twitter followers and following


    ",
        "inLanguage": "en",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/asimumba.rbind.io\/blog\/2017\/10\/02\/mapping-twitter-data\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Aaron Simumba"
        },
        "creator" : {
            "@type": "Person",
            "name": "Aaron Simumba"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Aaron Simumba"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Aaron Simumba"
        },
        "copyrightYear" : "2017",
        "dateCreated": "2017-10-02T17:46:47.00Z",
        "datePublished": "2017-10-02T17:46:47.00Z",
        "dateModified": "2017-10-02T17:46:47.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Aaron Simumba",
            "url": "https://asimumba.rbind.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/asimumba.rbind.io\/favicons\/favicon.icofavicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
        
        "https://asimumba.rbind.io/images/site-feature-image.png"


      
      ]

    ,
        "url" : "https:\/\/asimumba.rbind.io\/blog\/2017\/10\/02\/mapping-twitter-data\/",
        "wordCount" : "614",
        "genre" : [ ],
        "keywords" : [ 
      
      "Twitter followers"

    
      
        ,

      
      "twitteR"

    ]
    }
  </script>



</head>
<body
    
      class="body theme--light"

    
  >
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="https://asimumba.rbind.io/images/aaron.jpg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="https://asimumba.rbind.io/">Aaron Simumba</a>
        </div>

      
      <div class="sidebar__introduction-description">
        <p>A Data Connoisseur's playground - Where data mets ideas</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://www.linkedin.com/in/aaronsimumba/"
            target="_blank"
            rel="noopener"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/asimumba"
            target="_blank"
            rel="noopener"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a
            href="https://stackoverflow.com/users/8137815/aaron-simumba"
            target="_blank"
            rel="noopener"
            aria-label="stackoverflow"
            title="stackoverflow"
          >
            <i class="fab fa-stack-overflow fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a
            href="mailto:simumbaaaron20@gmail.com"
            target="_blank"
            rel="noopener"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2017-2022 - Aaron Simumba

      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="https://asimumba.rbind.io/js/medium-zoom.min.602bd2014468bd348112e2aa24f595c530d257a4ed6c335d7baaa6ac9a7ca6fb.js"
    integrity="sha256-YCvSAURovTSBEuKqJPWVxTDSV6TtbDNde6qmrJp8pvs="
    crossorigin="anonymous"
  ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-251788376"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-251788376', { 'anonymize_ip': false });
}
</script>
</div>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            <a
              
              href="https://asimumba.rbind.io/"
              
              title=""
              >About</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="https://asimumba.rbind.io/blog/"
              
              title=""
              >Blog</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="https://asimumba.rbind.io/portfolio/"
              
              title=""
              >Portfolio</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="https://asimumba.rbind.io/awards/"
              
              title=""
              >Accomplishments</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="https://asimumba.rbind.io/talks/"
              
              title=""
              >Talks</a
            >
          </li>

        


      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>

      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown

    "
  >
    
    <div class="post__content">
      <h1>Mapping the Location of Twitter Followers and Following in R</h1>
      <p>It is always nice to capture how wide and dense your twitter interactions spread. More so, the spread and locations of your twitter followers and those you are following. Making use of the <code>twitteR</code> package, and the inspiration from a post written by <a href="https://simplystatistics.org/2011/12/21/an-r-function-to-map-your-twitter-followers/">Jeff Leek</a>, I attempt to map my followers&rsquo; locations and those I follow on twitter.</p>
<p>Jeff Leek  wrote a <code>twitterMap()</code>function that lets you map the locations of your twitter followers and those you follow, the script that holds the function can be downloaded <a href="http://biostat.jhsph.edu/~jleek/code/twitterMap.R">here</a>.</p>
<p>Since the data has to be mined from twitter to R. The first issue to address is setting up this link to twitter. Luckily, twitter&rsquo;s Application Programming Interface (API) handles this integration. Twitter has a developer site, where you can set-up your app and acquire the authentication keys and tokens  needed for R and twitter to communicate. For set-up instructions the following <a href="https://www.credera.com/blog/business-intelligence/twitter-analytics-using-r-part-1-extract-tweets/">post</a> has a nice  step by step walk through set-up from the twitter side.</p>
<p>From the R side. We need the following packages: <code>ROAuth</code> which is R&rsquo;s interface to the OAuth (Open Authorization) - which is an open standard for token-based authentication and authorization on the Internet, allowing  us give access to the third-party apps like twitter and Facebook to communicate with the local machine set-up.<code>twitteR</code> is the other package, plus the <code>httr</code> package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># The following code will install the packages.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;twitteR&#34;</span>, <span style="color:#e6db74">&#34;httr&#34;</span>, <span style="color:#e6db74">&#34;ROAuth&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># load the packages</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(httr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(twitteR)
</span></span></code></pre></div><p>Authenticating R to have access to your twitter account, the <code>twitteR</code> package has a function called <code>setup_twitter_oauth()</code>, where you are required to supply the keys and tokens to be found under the keys and tokens tab on your twitter developer profile. Supplying the <code>consumer key</code> and <code>secret key</code> obtained on-line, will prompt authorisation through the web browser, where a step by step prompt is given. Refer to the link above to the walk through set-up.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">setup_twitter_oauth</span>(consumer_key <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;insert key&#34;</span>, consumer_secret <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;insert key&#34;</span>,
</span></span><span style="display:flex;"><span>    access_token <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;insert token key&#34;</span>, access_secret <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;insert key&#34;</span>)
</span></span></code></pre></div><h2 id="mapping-followers-and-following-locations">Mapping followers and Following locations</h2>
<p>Jeff Leek provides the following description for the twitterMap function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>twitterMap <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(userName,
</span></span><span style="display:flex;"><span>                       userLocation <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>                       fileName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;twitterMap.pdf&#34;</span>,
</span></span><span style="display:flex;"><span>                       nMax <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>,
</span></span><span style="display:flex;"><span>                       plotType <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;followers&#34;</span>,
</span></span><span style="display:flex;"><span>                                    <span style="color:#e6db74">&#34;both&#34;</span>,
</span></span><span style="display:flex;"><span>                                    <span style="color:#e6db74">&#34;following&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>with arguments:</p>
<ol>
<li>
<p>userName - the twitter username you want to plot</p>
</li>
<li>
<p>userLocation - an optional argument giving the location of the user, necessary when the location information you have provided Twitter isn’t sufficient for us to find latitude/longitude data</p>
</li>
<li>
<p>fileName - the file where you want the plot to appear</p>
</li>
<li>
<p>nMax - The maximum number of followers/following to get from Twitter, this is implemented to avoid rate limiting for people with large numbers of followers.</p>
</li>
<li>
<p>plotType - if “both” both followers/following are
plotted, etc.</p>
</li>
</ol>
<p>Mapping my twitter data, I run the following code, supplying my twitter username, and changing the <code>plotType</code> argument to &ldquo;both&rdquo;, which plots both locations for my followers and those I follow.</p>
<p>I call the <code>twitterMap.R</code> script through <code>source()</code>, the script loads the function in the work environment, in order to use the <code>twitterMap()</code> command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">source</span>(<span style="color:#e6db74">&#34;twitterMap.R&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">twitterMap</span>(<span style="color:#e6db74">&#34;zedsamurai&#34;</span>, fileName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;twitterMap.pdf&#34;</span>, plotType <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;both&#34;</span>)
</span></span></code></pre></div><p>The following is the map of the locations of my twitter followers  and those I follow.</p>
<p><img src="https://user-images.githubusercontent.com/24398851/31088605-e90435ca-a7a9-11e7-89dc-7b5694d980d6.png" alt="Map of twitter followers and followings"></p>
<p>Since most people and companies I follow and those that follow me are either investment firms, open source software developers and of course meme artists. Memes cannot miss out, they carry life.</p>
<p>For both the followers and those I follow, it can be seen that they are mainly located in North America, Europe and Africa. It is my hope to follow more of the budding tech and finance enthusiasts on the African continent. Next time I mine this data, it should paint a slightly more balanced picture.</p>
</div>
    <div class="post__footer">
      

      
        <span><a class="tag" href="https://asimumba.rbind.io/tags/twitter-followers/">Twitter followers</a><a class="tag" href="https://asimumba.rbind.io/tags/twitter/">twitteR</a></span>




      
    </div>

    
  </div>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2017-2022 - Aaron Simumba

      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="https://asimumba.rbind.io/js/medium-zoom.min.602bd2014468bd348112e2aa24f595c530d257a4ed6c335d7baaa6ac9a7ca6fb.js"
    integrity="sha256-YCvSAURovTSBEuKqJPWVxTDSV6TtbDNde6qmrJp8pvs="
    crossorigin="anonymous"
  ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-251788376"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-251788376', { 'anonymize_ip': false });
}
</script>
</body>
</html>
